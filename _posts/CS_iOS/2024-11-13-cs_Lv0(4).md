---
title:  "[iOS] CS 정리 LV0(4)"
excerpt: "CS in iOS"

categories:
  - CS
tags:
  - CS, iOS
last_modified_at: 2024-11-13T13:40:02-05:00
---


### 19. iOS에서 이미지 파일 포맷(PNG, JPEG 등)과 각 포맷의 특징에 대해 설명해주세요.

1. PNG(Portable Network Graphics)
- 무손실 압축 포멧으로 이미지 품질이 그대로 유지된다.
- 투명한 이미지 표현 가능.
- 로고, 아이콘 등 고해상도와 투명도가 필요한 이미지에 적합하다.
- 고해상도에서는 파일 크기가 다소 큰 편이다.

2. JPEG(Joint Photographic Experts Group)
- 손실 압축 포맷으로 파일 크기 절감 효과가 크다.
- 투명영역을 표현할 수 없다.
- 사진과 같이 색상이 복잡한 이미지에 적합하다.
- 고해상도 이미지도 상대적으로 파일 크기가 작다.

| 특징           | PNG                         | JPEG                         |
|----------------|-----------------------------|------------------------------|
| **압축 방식**   | 무손실 압축                  | 손실 압축                     |
| **투명도 지원** | 지원                         | 미지원                        |
| **파일 크기**   | JPEG보다 큼                 | PNG보다 작음                 |
| **사용 용도**   | 투명도 필요한 로고, 아이콘   | 사진, 색상 복잡한 이미지       |
| **이미지 품질** | 무손실로 품질 유지           | 손실 압축으로 일부 품질 손실    |

<br><br>

### 20. PNG 파일이 어떻게 저장되고 구성되는지 설명해주세요

PNG 파일은 여러 Chunk로 나뉘며, 각 Chunk는 이미지의 특정 정보를 저장한다.
PNG 파일 구조:

1. 파일 서명:
  - PNG 파일의 시작 부분에 위치, 파일이 PNG임을 나타내는 고유 서명으로 8비트 고정값.
2. 데이터 Chunk:
  - PNG 파일의 주요 데이터가 되는 저장 단위.
  - 주요 Chunk:
    - IHDR: 이미지의 기본 정보(너비, 높이, 색상 등).
    - PLTE: 색상 팔레트.
    - IDAT: 실제 이미지 데이터를 압축하여 저장.
    - IEND: 이미지의 끝을 알리는 Chunk.

3. 압축 방식:
  - Deflate 알고리즘으로 사용하여 무손실 압축.
4. 필터링:
  - 행 단위 필터링을 적용하여 이전 픽셀과 차이 계산.
<br><br>

### 21. iOS에서 메모리 사이즈와 관련된 개념과 고려 사항에 대해 설명해주세요

1. 메모리 구조:
  - Stack: 지역 변수 및 함수 호출 정보를 저장하는 영역. 자동으로 할당/해제.
  - Heap: 동적으로 할당된 데이터가 저장되는 영역. 수동 관리/ARC에 의해 관리.

2. 메모리 관리:
  - ARC(Automatic Reference Counting): 객체 참조 수를 자동 관리한다.

3. 메모리 최적화:
  - Instrument 도구: xCode의 Instrument를 사용하여 앱의 메모리 사용을 추적, 최적화.
  - 메모리 캐시 관리: 자주 사용하는 데이터를 캐시하여 성능을 최적화.

4. 메모리 정렬:
  - 데이터를 특정 메모리 경계에 맞춰 배치하여 CPU 데이터 접근 속도를 최적화한다.

5. 메모리 누수:
  - 사용이 끝난 메모리가 해제되지 않는 상황으로 Instrument를 활용하여 메모리 누수를 추적하고 방지한다.

<br><br>

### 22. iOS 디바이스의 메모리 제약과 앱 메모리 제한에 대해 설명해주세요

1. 디바이스 메모리 제약
  - 메모리 크기: iOS 디바이스의 모델에 따라 메모리 용량이 다르다.
  - 시스템 메모리: 시스템과 백그라운드 앱이 메모리를 차지하기 때문에 실제로 앱이 사용할 수 있는 메모리는 더 적다.

2. 앱 메모리 제한
  - iOS는 앱에 할당된 메모리 용량을 제한한다.
    - 32비트 장치: 500MB~1GB 사이의 메모리 제한.
    - 64비트 장치: 2GB~4GB 사이의 메모리 제한.
  
3. 메모리 경고와 앱 종료
  - 메모리가 부족하면 iOS는 메모리 경고를 발생시킨다.

4. 백그라운드와 메모리
  - 앱이 백그라운드로 전환되면, 시스템은 리소스를 절약하기 위해 메모리 사용을 제한할 수 있다.

5. 메모리 최적화 기법
  - 자주 사용하는 객체를 재사용하여 메모리 할당을 최소화한다.
  - 필요한 해상도로 이미지를 로드하거나 이미지 크기를 최적화한다.

**메모리 경고가 발생하면 취해야 할 조치**
1. 불필요한 리소스 해제
2. 메모리 집약적인 작업 일시 정지: 이미지, 동영상 등 메모리를 많이 사용하는 작업을 중단한다.
3. 불필요한 객체 참조 제거
4. 이미지 최적화 및 로딩 해제
5. 데이터 구조 최적화
<br>

#### 참고
- 컴퓨터 구조와 운영체제 핵심 노트
- https://github.com/JeaSungLEE/iOSInterviewquestions?tab=readme-ov-file
